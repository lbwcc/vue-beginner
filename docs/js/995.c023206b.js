"use strict";(self["webpackChunkvue_beginner"]=self["webpackChunkvue_beginner"]||[]).push([[995],{2995:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});var n=l(641),u=l(33),t=l(953),o=l(4335);const s=o.A;var r=s;const i=e=>{const a=!0,l=a?"https://openlibrary.org/api/books":"/findBooks";return r.get(l,{params:{bibkeys:`ISBN:${e}`,format:"json",jscmd:"data"}})};var c=l(163);const d={key:0,id:"list"},v=["src"],p={style:{padding:"14px"}},k={class:"bottom clearfix"},m={class:"author"},b={key:1};var h={__name:"BooksFinder",setup(e){const a=(0,t.KR)(""),l=(0,t.KR)([]),o=(0,t.KR)("");async function s(){const e=await i(a.value),n=e.data,u=`ISBN:${a.value}`;if(n&&n[u]){const e=n[u];c.nk.success("请求成功！"),l.value=[{pictures:e.cover?e.cover.medium||e.cover.large||e.cover.small:"",bookName:e.title||"",author:e.authors&&e.authors.length?e.authors.map((e=>e.name)).join(", "):"",isbn:a.value}]}else l.value=[],c.nk.warning("未找到相关图书信息")}return(e,t)=>{const r=(0,n.g2)("H1"),i=(0,n.g2)("el-select"),c=(0,n.g2)("el-button"),h=(0,n.g2)("el-input");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(r,null,{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("图书查询")]))),_:1}),(0,n.bF)(h,{id:"input",placeholder:"请输入内容",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),class:"input-with-select"},{prepend:(0,n.k6)((()=>[(0,n.bF)(i,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),placeholder:"ISBN"},null,8,["modelValue"])])),append:(0,n.k6)((()=>[(0,n.bF)(c,{onClick:s,icon:"el-icon-search"})])),_:1},8,["modelValue"]),l.value.length?((0,n.uX)(),(0,n.CE)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.isbn},[(0,n.Lk)("img",{src:e.pictures,class:"image"},null,8,v),(0,n.Lk)("div",p,[(0,n.Lk)("span",null,(0,u.v_)(e.bookName),1),(0,n.Lk)("div",k,[(0,n.Lk)("time",m,(0,u.v_)(e.author),1)])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",b," 暂无数据 "))])}}},g=l(6262);const f=(0,g.A)(h,[["__scopeId","data-v-e2fa7946"]]);var _=f}}]);
//# sourceMappingURL=995.c023206b.js.map