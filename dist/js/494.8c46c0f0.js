"use strict";(self["webpackChunkvue_beginner"]=self["webpackChunkvue_beginner"]||[]).push([[494],{9494:function(s,t,e){e.r(t),e.d(t,{default:function(){return d}});var a=function(){var s=this,t=s._self._c;return t("div",[t("H1",[s._v("图书查询")]),t("el-input",{staticClass:"input-with-select",attrs:{id:"input",placeholder:"请输入内容"},model:{value:s.isbn,callback:function(t){s.isbn=t},expression:"isbn"}},[t("el-select",{attrs:{slot:"prepend",placeholder:"ISBN"},slot:"prepend",model:{value:s.searchType,callback:function(t){s.searchType=t},expression:"searchType"}}),t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:s.findBooks},slot:"append"})],1),s.booksInfo.length?t("div",{attrs:{id:"list"}},s._l(this.booksInfo,(function(e){return t("div",{key:e.isbn},[t("img",{staticClass:"image",attrs:{src:e.pictures}}),t("div",{staticStyle:{padding:"14px"}},[t("span",[s._v(s._s(e.bookName))]),t("div",{staticClass:"bottom clearfix"},[t("time",{staticClass:"author"},[s._v(s._s(e.author))])])])])})),0):t("div",[s._v(" 暂无数据 ")])],1)},n=[],o=e(4335);const i=o.A;var r=i;const c=s=>{const t=!0,e=t?"https://openlibrary.org/api/books":"/findBooks";return r.get(e,{params:{bibkeys:`ISBN:${s}`,format:"json",jscmd:"data"}})};var l={data(){return{isbn:"",booksInfo:[],searchType:""}},methods:{async findBooks(){const s=await c(this.isbn),t=s.data,e=`ISBN:${this.isbn}`;if(t&&t[e]){const s=t[e];this.$message.success("请求成功！"),this.booksInfo=[{pictures:s.cover?s.cover.medium||s.cover.large||s.cover.small:"",bookName:s.title||"",author:s.authors&&s.authors.length?s.authors.map((s=>s.name)).join(", "):"",isbn:this.isbn}]}else this.booksInfo=[],this.$message.warning("未找到相关图书信息")}}},u=l,p=e(1656),h=(0,p.A)(u,a,n,!1,null,"6a41ae1c",null),d=h.exports}}]);
//# sourceMappingURL=494.8c46c0f0.js.map